!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Loadr=t()}("undefined"!=typeof self?self:this,(function(){return class{constructor(e={}){this.async=void 0!==e.async&&e.async,this.cache=void 0===e.cache||e.cache,this.delay=e.delay||500,this.cacheStore=new Map,this.init()}init(){document.querySelectorAll("img[hr-src]").forEach((e=>this.loadImage(e)))}loadImage(e){e.src;const t=e.getAttribute("hr-src");if(this.cache&&this.cacheStore.has(t))return void this.swapImage(e,this.cacheStore.get(t));const c=new Image;c.src=t,c.onload=()=>{this.cache&&this.cacheStore.set(t,c.src),this.swapImage(e,c.src)},c.onerror=()=>{console.error(`Failed to load image: ${t}`)}}swapImage(e,t){setTimeout((()=>{e.src=t,e.dispatchEvent(new Event("loadr:loaded"))}),this.delay)}clearCache(){this.cacheStore.clear()}}}));